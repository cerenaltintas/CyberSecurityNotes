Hypertext Transfer Protocol(HTTP), internet üzerinde bilgi alışverişi yapılmasını sağlayan temel bir protokoldür. Web sayfalarının ve diğer verilerin, bir ağ üzerindeki sunuculardan istemcilere (genellikle web tarayıcılarına) aktarılmasını mümkün kılar. 1990'ların başında Tim Berners-Lee tarafından icat edilmiştir ve World Wide Web'in temel taşlarından biridir.

HTTP, istemci-sunucu modelini kullanır. Bu modelde, bir istemci (kullanıcının tarayıcısı gibi) bir sunucuya (web sitesini barındıran sunucu gibi) bir istek (request) gönderir ve sunucu bu isteğe bir yanıt (response) ile karşılık verir. Bu istek ve yanıt mekanizması, web sayfalarının, resimlerin, videoların ve diğer içeriklerin internet üzerinden alınıp gönderilmesini sağlar.

### HTTP İstekleri (Request)

HTTP istekleri, aşağıdaki dört temel bileşenden oluşur:

- URL
- Method
- Başlıklar
- İstek Gövdesi (opsiyonel)

Aşağıda örnek bir HTTP başlığı bulunmaktadır:

```auto
GET /index.html HTTP/1.1
Host: www.example.com
Cookie: SESSIONID=badb655ebd99ed6c8e58c0a1aab44eb9
```

- İlk satırda HTTP Methodu, isteğin gönderildiği yol (path) ve HTTP protokolünün versiyonu bulunmaktadır. Örneğimizde, isteğin 
    
    GET
    
     methodu ile 
    
    index.html
    
     yoluna gönderildiği görülmektedir. HTTP versiyonu ise 
    
    HTTP/1.1
    
     olarak belirtilmiş.
- İkinci satırda, isteğimizin gideceği hedef sunucunun adresi yer almaktadır. Hedef sunucu adresine alan adı veya IP adresi yazılabilir. Örneğimizde 
    
    www.example.com
    
     alan adına istek gönderildiği görülmektedir.
- Üçüncü satır, istemci tarafında veri saklamak için kullanılan bir çerez (cookie) başlığı içeriyor. Web sitelerindeki oturum açma süreçleri genellikle çerezler ile yürütülür. Bu örnekte, hedef sunucuya istemciyi tanıyabilmesi için 
    
    SESSIONID
    
     isminde bir çerezi 
    
    badb655ebd99ed6c8e58c0a1aab44eb9
    
     değeri ile gönderildiği anlaşılmaktadır.

HTTP İstek Methodları (Request Method)

HTTP İstek methodları sunucuya, istemcinin sunucudan ne tür bir işlem yapmasını istediğini söyler. En yaygın yöntemler şunlardır:

|HTTP Metodu|Tanım|
|---|---|
|GET|Bir kaynağı almak için kullanılır; URL ile belirtilen kaynağın içeriğini döndürür.|
|POST|Sunucuya veri göndermek için kullanılır; genellikle form verilerini gönderirken kullanılır.|
|PUT|Belirli bir kaynağı oluşturmak veya mevcut bir kaynağı güncellemek için kullanılır.|
|DELETE|Belirli bir kaynağı silmek için kullanılır.|
|HEAD|GET benzeridir, ancak kaynağın kendisi yerine başlıkları (headers) döndürür.|
|OPTIONS|Bir kaynağın hangi HTTP metodlarını desteklediğini sorgulamak için kullanılır.|
|PATCH|Bir kaynağın bir kısmını güncellemek için kullanılır.|
|CONNECT|İstemci ile sunucu arasında tünel kurmak için kullanılır.|
|TRACE|İsteğin sunucuya ulaşma yolunu test etmek için kullanılır.|

HTTP İstek Başlıkları (Request Header)

HTTP istek başlıkları (request headers), bir HTTP isteğinin parçası olarak sunucuya gönderilen ek bilgileri içerir. Bu başlıklar, isteğin nasıl işleneceği, istemcinin tercihleri, gönderilen içeriğin türü gibi çeşitli bilgileri taşır. İstemci ve sunucu arasındaki iletişimi daha etkili ve anlamlı hale getirmek için kullanılırlar.

Aşağıdaki örnekte olduğu gibi isim/değer formatında yazılırlar.

```auto
NAME=VALUE
```

Bu başlıklar sunucuya, isteği işlemek veya yanıtı özelleştirmek için kullanılabilecek bağlam ve ek talimatlar sağlamaktadır.

Aşağıda örnek bir HTTP başlığı bulunmaktadır:

```auto
GET /api/info HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36
Accept: application/json
Accept-Language: en-US,en;q=0.5
Authorization: Token secret123
Cache-Control: no-cache
Connection: keep-alive
Referer: https://www.google.com/
Pragma: no-cache
```

Bu örnekte,

GET

methodu ile

/api/info

yoluna

HTTP/1.1

protokolü ile istek gönderilmiştir. Ayrıca bu istek, 10 farklı başlık örneği içermektedir:

|Başlıklar|Tanımı|
|---|---|
|Host|Bu başlık, istemcinin bağlanmaya çalıştığı sunucunun ana bilgisayar adını belirtir.|
|User-Agent|Bu başlık, isteği yapan tarayıcı hakkında bilgi sağlar (örnekteki User-Agent değeri, Chrome tarayıcısı olduğunu göstermektedir).|
|Accept|Bu başlık, istemcinin yanıtta kabul etmeye istekli olduğu MIME veri türlerini belirtir.|
|Accept-Language|Bu başlık, yanıt için tercih edilen dil(ler)i belirtir.|
|Authorization|Bu başlık, kimlik doğrulama amaçları için bir erişim belirteci(token) sağlar.|
|Cache-Control|Bu başlık, hem istekler hem de yanıtlar için önbellekleme yönergelerini belirtir.|
|Connection|Bu başlık, istemci ve sunucu arasındaki bağlantıyı yönetmek için seçenekler belirtir.|
|Referer|Bu başlık, mevcut sayfaya bağlantı veren sayfanın URL'sini belirtir.|
|Pragma|Bu başlık, istek-yanıt zinciri boyunca herhangi bir ajanı etkileyebilecek uygulamaya özgü yönergeleri belirtir.|
|Content-Type|Bu başlık, istek gövdesinde gönderilen verinin MIME türünü belirtir, ancak bu örnekte bir GET isteği olduğu için ve istek gövdesi kullanılmadığı için kullanılmamıştır.|

HTTP İstek Gövdesi (Request Body)

HTTP request body, bir HTTP isteğinin gövdesidir ve istemciden sunucuya gönderilmek üzere paketlenen veriyi içerir. Genellikle POST, PUT, PATCH gibi metodlarla yapılan isteklerde, form verileri, dosyalar veya JSON/XML gibi yapılandırılmış veriler bu bölümde yer alır. Örneğin, bir kullanıcı formu doldurup gönderdiğinde, formdaki bilgiler request body içinde sunucuya iletilir; ya da bir API'a JSON formatında bir veri göndermek istendiğinde, bu JSON verisi request body içinde yer alır.

HTTP request body'nin içeriği ve formatı,

Content-Type

başlığı ile belirlenir. Bu, sunucunun gönderilen veriyi nasıl işleyeceğini anlamasına yardımcı olur. Örneğin,

Content-Type: application/json

başlığı, gövdenin JSON formatında olduğunu ve sunucunun bu formata göre işlem yapması gerektiğini belirtir. Bu mekanizma, istemci ile sunucu arasında daha karmaşık ve anlamlı veri alışverişinin yapılabilmesine olanak tanır, web uygulamalarının ve API'lerin dinamik ve etkileşimli hale gelmesini sağlar.

Request Body içeren örnek bir HTTP başlığı:

```auto
POST /v1/photos/upload HTTP/1.1
Host: api.myphotos.com
x-api-key: API_KEY
Content-Length: 232
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="/C:/Users/John/Photos/my_photo.jpg"
Content-Type: image/jpeg

(data)
------WebKitFormBoundary7MA4YWxkTrZu0gW--
```

Yukarıdaki istekte,

api.myphotos.com

adresindeki sunucunun

/v1/photos/upload

yolundaki API uç noktasına

POST

methodu ile yerel bilgisayarda bulunan

C:/Users/John/Photos/my_photo.jpg

yolundaki fotoğrafın yüklenildiği görülmekte.

Sunucu bu isteği aldığında, istek gövdesini ayrıştıracak ve fotoğrafların bulunduğu veritabanında yeni bir giriş oluşturmak için kullanacaktır.

### HTTP Yanıtları (Response)

HTTP yanıtı, bir web sunucusunun bir istemcinin HTTP isteğine verdiği cevaptır. Bu yanıt, istenen kaynağın durumunu, sunucunun kendisi hakkında bilgileri ve isteğe bağlı olarak istenen kaynağın kendisini içerir.

```auto
HTTP/1.1 200 OK
Date: Sun, 28 Mar 2023 10:15:00 GMT
Content-Type: application/json
Server: Apache/2.4.39 (Unix) OpenSSL/1.1.1c PHP/7.3.6
Content-Length: 1024

{
    "name": "John Doe",
    "email": "johndoe@example.com",
}
```

İlk satırda yer alan **durum satırı(status line)** HTTP sürümünü, isteğin sonucunu gösteren bir durum kodunu gösterir.

Aşağıdaki tabloda en yaygın karşılaşılan durum kodları listelenmiştir:

|Kod|Anlamı|
|---|---|
|100|Devam|
|101|Protokolleri Değiştir|
|200|Başarılı|
|201|Oluşturuldu|
|202|Kabul Edildi|
|203|Yetkili Olmayan Bilgi|
|404|Bulunamadı: İstenen kaynak sunucuda bulunamadı.|
|500|İç Sunucu Hatası: Sunucu, isteği işlerken bir hata ile karşılaştı.|
|301|Kalıcı Olarak Taşındı: İstenen kaynak kalıcı olarak yeni bir URL'ye taşındı.|

Örnekteki

Content-Type

başlığından da anlayacağımız üzere, yanıtın gövdesi

application/json

yani **JSON** formatındadır. Yapılan istek sonucunda

John Doe

isimli kullanıcının bilgilerinin dönüldüğü görülmektedir.

### Adım Adım Çalışma Prensibi

Tüm bu öğrendiklerimizi özetlemek için, bir web sitesine erişmek istediğimizde gerçekleşen adımların ne olduğuna bakalım:

1. Web Tarayıcısını Açma ve URL Girme:

İnternette gezinmeye başlamak için ilk adım, bir web tarayıcısı açarak ziyaret etmek istediğiniz web sitesinin adresini, yani URL'ini (Uniform Resource Locator) girerek başlar. Örneğin: [https://google.com](https://google.com/)

2. DNS Sorgusu:

Girdiğiniz URL, insanlar için anlamlı ve hatırlaması kolay bir adrestir; fakat internet ağları ve bilgisayarlar bu adresler yerine sayısal IP adreslerini kullanır. Bu nedenle, tarayıcınız URL'yi, web sitesinin barındırıldığı sunucunun IP adresine çevirmek için bir Domain Name System (DNS) sorgusu yapar. DNS, internetin telefon rehberi gibidir; girdiğiniz web sitesi adını alır ve bunu karşılık gelen IP adresine dönüştürür.

3. Sunucuya İstek Gönderme:

DNS sorgusunun sonucunda elde edilen IP adresi ile tarayıcınız, web sitesinin barındırıldığı sunucuya bir HTTP isteği gönderir. Bu istek, sunucudan belirli bir sayfanın içeriğini talep eder.

4. Sunucudan Yanıt Alınması:

Web sunucusu, tarayıcınızın isteğini alır ve gerekli işlemleri yaparak istenilen web sayfasının içeriğini bir HTTP yanıtı ile geri gönderir. Bu yanıt, genellikle HTML (Hypertext Markup Language) kodlarından oluşur ve sayfanın nasıl görüneceğini tanımlar.

5. Web Sayfasının Görüntülenmesi:

Tarayıcınız, sunucudan aldığı HTML içeriğini işler ve kullanıcıya görsel bir web sayfası olarak sunar. Bu aşamada, sayfanın düzgün bir şekilde görüntülenebilmesi için ek kaynakların (resimler, CSS dosyaları, JavaScript dosyaları vb.) de sunucudan istenmesi ve alınması gerekebilir.

6. Bağlantının Sonlandırılması:

Web sayfası başarıyla yüklendikten sonra, HTTP/1.1 protokolünde

keep-alive

özelliği olmadığı takdirde, istemci ve sunucu arasındaki bağlantı otomatik olarak sonlandırılır. Eğer kullanıcı sayfa içinde başka bir linke tıklar veya yeni bir sayfa isteği yaparsa, bu süreç yeniden başlar ve yeni bir bağlantı kurulur.