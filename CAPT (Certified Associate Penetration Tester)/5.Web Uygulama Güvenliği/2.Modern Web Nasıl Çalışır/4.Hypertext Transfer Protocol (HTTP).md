Hypertext Transfer Protocol (HTTP), internet üzerinde bilgi alışverişinin temelini oluşturan bir protokoldür. Web sayfalarının ve diğer medya türlerinin transferi için tasarlanmıştır. HTTP'nin arkasındaki temel mantık, istemci-sunucu modeline dayanır: bir web tarayıcısı (istemci) bir web sunucusundan belirli bir kaynağı talep eder ve sunucu bu isteği karşılar.

### Tarihçe

HTTP, Tim Berners-Lee ve CERN'deki takımı tarafından 1989-1990 yıllarında World Wide Web'in bir parçası olarak geliştirildi. İlk sürümü olan HTTP/0.9 yalnızca temel bir şekilde çalışıyor ve yalnızca çok sınırlı bir işlevsellik sunuyordu. 1996'da HTTP/1.0 (RFC 1945) yayımlandı ve bu, protokolün daha geniş kabul görmesine yardımcı oldu. HTTP/1.1 (RFC 2616), 1997'de tanıtıldı ve günümüzde hâlâ en yaygın kullanılan HTTP sürümüdür. HTTP/2, 2015'te yayımlandı ve performans iyileştirmeleri sundu. En son olarak, HTTP/3 üzerinde çalışmalar devam etmektedir ve daha da iyileştirilmiş performans için QUIC transport protokolünü kullanır.

### HTTPS

HTTPS (Hypertext Transfer Protocol Secure), internet üzerinden güvenli bilgi alışverişini sağlayan bir protokoldür. İlk olarak Netscape Communications tarafından 1994 yılında SSL protokolü ile birlikte tanıtıldı. Başlangıçta, özellikle çevrimiçi işlemlerde güvenliği artırmak amacıyla kullanılmaya başlandı. Zamanla, veri güvenliğinin öneminin artmasıyla birlikte, HTTPS kullanımı genişledi ve günümüzde web sitelerinin büyük bir çoğunluğu tarafından kullanılır hale geldi.

Temel olarak HTTP protokolünün, TLS (Transport Layer Security) veya SSL (Secure Sockets Layer) protokolleri ile güçlendirilmiş versiyonudur. HTTPS, kullanıcıların ve sunucuların arasındaki veri aktarımını şifreleyerek, üçüncü şahısların bu verilere erişimini veya verileri değiştirmesini önler.

**SSL (Secure Sockets Layer)**: İnternet üzerindeki veri iletişiminin şifrelenerek güvenli bir şekilde gerçekleşmesini sağlayan bir protokoldür.

**TLS (Transport Layer Security)**: SSL'in geliştirilmiş versiyonu olup, internet üzerinden güvenli iletişim sağlamak için daha güçlü şifreleme teknikleri ve güvenlik protokolleri sunar.

### HTTPS İşleyişi

HTTPS, istemci ve sunucu arasında bir şifreleme katmanı ekleyerek çalışır. Bir kullanıcı HTTPS ile korunan bir web sitesini ziyaret ettiğinde, tarayıcı ve sunucu arasında bir "handshake" işlemi gerçekleşir. Bu işlem sırasında:

1. **Sunucu Kimliğini Doğrulama**: Sunucu, kendisine ait bir güvenlik sertifikası ve genel anahtar içeren bir sertifika sunar. Tarayıcı, sertifikanın güvenilir bir otorite tarafından imzalandığını doğrular.
2. **Oturum Anahtarının Oluşturulması**: Tarayıcı ve sunucu, iletişim için kullanılacak geçici bir oturum anahtarı oluşturmak üzere güvenli bir yöntem kullanır.
3. **Veri Şifrelemesi**: Oluşturulan oturum anahtarı, veri aktarımının şifrelenmesi için kullanılır. Bu sayede, verilerin güvenli bir şekilde iletilmesi sağlanır.

### HTTP İstekleri (Request)

HTTP istekleri, aşağıdaki dört temel bileşenden oluşur:

- URL
- Method
- Başlıklar
- İstek Gövdesi (opsiyonel)

Aşağıda örnek bir HTTP başlığı bulunmaktadır:

```auto
GET /index.html HTTP/1.1
Host: www.example.com
Cookie: SESSIONID=badb655ebd99ed6c8e58c0a1aab44eb9
```

- İlk satırda HTTP Methodu, isteğin gönderildiği yol (path) ve HTTP protokolünün versiyonu bulunmaktadır. Örneğimizde, isteğin 
    
    GET
    
     methodu ile 
    
    index.html
    
     yoluna gönderildiği görülmektedir. HTTP versiyonu ise 
    
    HTTP/1.1
    
     olarak belirtilmiş.
- İkinci satırda, isteğimizin gideceği hedef sunucunun adresi yer almaktadır. Hedef sunucu adresine alan adı veya IP adresi yazılabilir. Örneğimizde 
    
    www.example.com
    
     alan adına istek gönderildiği görülmektedir.
- Üçüncü satır, istemci tarafında veri saklamak için kullanılan bir çerez (cookie) başlığı içeriyor. Web sitelerindeki oturum açma süreçleri genellikle çerezler ile yürütülür. Bu örnekte, hedef sunucuya istemciyi tanıyabilmesi için 
    
    SESSIONID
    
     isminde bir çerezi 
    
    badb655ebd99ed6c8e58c0a1aab44eb9
    
     değeri ile gönderildiği anlaşılmaktadır.

HTTP İstek Methodları (Request Method)

HTTP İstek methodları sunucuya, istemcinin sunucudan ne tür bir işlem yapmasını istediğini söyler. En yaygın yöntemler şunlardır:

|HTTP Metodu|Tanım|
|---|---|
|GET|Bir kaynağı almak için kullanılır; URL ile belirtilen kaynağın içeriğini döndürür.|
|POST|Sunucuya veri göndermek için kullanılır; genellikle form verilerini gönderirken kullanılır.|
|PUT|Belirli bir kaynağı oluşturmak veya mevcut bir kaynağı güncellemek için kullanılır.|
|DELETE|Belirli bir kaynağı silmek için kullanılır.|
|HEAD|GET benzeridir, ancak kaynağın kendisi yerine başlıkları (headers) döndürür.|
|OPTIONS|Bir kaynağın hangi HTTP metodlarını desteklediğini sorgulamak için kullanılır.|
|PATCH|Bir kaynağın bir kısmını güncellemek için kullanılır.|
|CONNECT|İstemci ile sunucu arasında tünel kurmak için kullanılır.|
|TRACE|İsteğin sunucuya ulaşma yolunu test etmek için kullanılır.|

HTTP İstek Başlıkları (Request Header)

HTTP istek başlıkları (request headers), bir HTTP isteğinin parçası olarak sunucuya gönderilen ek bilgileri içerir. Bu başlıklar, isteğin nasıl işleneceği, istemcinin tercihleri, gönderilen içeriğin türü gibi çeşitli bilgileri taşır. İstemci ve sunucu arasındaki iletişimi daha etkili ve anlamlı hale getirmek için kullanılırlar.

Aşağıdaki örnekte olduğu gibi isim/değer formatında yazılırlar.

```auto
NAME=VALUE
```

Bu başlıklar sunucuya, isteği işlemek veya yanıtı özelleştirmek için kullanılabilecek bağlam ve ek talimatlar sağlamaktadır.

Aşağıda örnek bir HTTP başlığı bulunmaktadır:

```auto
GET /api/info HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36
Accept: application/json
Accept-Language: en-US,en;q=0.5
Authorization: Token secret123
Cache-Control: no-cache
Connection: keep-alive
Referer: https://www.google.com/
Pragma: no-cache
```

Bu örnekte,

GET

methodu ile

/api/info

yoluna

HTTP/1.1

protokolü ile istek gönderilmiştir. Ayrıca bu istek, 10 farklı başlık örneği içermektedir:

|Başlıklar|Tanımı|
|---|---|
|Host|Bu başlık, istemcinin bağlanmaya çalıştığı sunucunun ana bilgisayar adını belirtir.|
|User-Agent|Bu başlık, isteği yapan tarayıcı hakkında bilgi sağlar (örnekteki User-Agent değeri, Chrome tarayıcısı olduğunu göstermektedir).|
|Accept|Bu başlık, istemcinin yanıtta kabul etmeye istekli olduğu MIME veri türlerini belirtir.|
|Accept-Language|Bu başlık, yanıt için tercih edilen dil(ler)i belirtir.|
|Authorization|Bu başlık, kimlik doğrulama amaçları için bir erişim belirteci(token) sağlar.|
|Cache-Control|Bu başlık, hem istekler hem de yanıtlar için önbellekleme yönergelerini belirtir.|
|Connection|Bu başlık, istemci ve sunucu arasındaki bağlantıyı yönetmek için seçenekler belirtir.|
|Referer|Bu başlık, mevcut sayfaya bağlantı veren sayfanın URL'sini belirtir.|
|Pragma|Bu başlık, istek-yanıt zinciri boyunca herhangi bir ajanı etkileyebilecek uygulamaya özgü yönergeleri belirtir.|
|Content-Type|Bu başlık, istek gövdesinde gönderilen verinin MIME türünü belirtir, ancak bu örnekte bir GET isteği olduğu için ve istek gövdesi kullanılmadığı için kullanılmamıştır.|

HTTP İstek Gövdesi (Request Body)

HTTP request body, bir HTTP isteğinin gövdesidir ve istemciden sunucuya gönderilmek üzere paketlenen veriyi içerir. Genellikle POST, PUT, PATCH gibi metodlarla yapılan isteklerde, form verileri, dosyalar veya JSON/XML gibi yapılandırılmış veriler bu bölümde yer alır. Örneğin, bir kullanıcı formu doldurup gönderdiğinde, formdaki bilgiler request body içinde sunucuya iletilir; ya da bir API'a JSON formatında bir veri göndermek istendiğinde, bu JSON verisi request body içinde yer alır.

HTTP request body'nin içeriği ve formatı,

Content-Type

başlığı ile belirlenir. Bu, sunucunun gönderilen veriyi nasıl işleyeceğini anlamasına yardımcı olur. Örneğin,

Content-Type: application/json

başlığı, gövdenin JSON formatında olduğunu ve sunucunun bu formata göre işlem yapması gerektiğini belirtir. Bu mekanizma, istemci ile sunucu arasında daha karmaşık ve anlamlı veri alışverişinin yapılabilmesine olanak tanır, web uygulamalarının ve API'lerin dinamik ve etkileşimli hale gelmesini sağlar.

Request Body içeren örnek bir HTTP başlığı:

```auto
POST /v1/photos/upload HTTP/1.1
Host: api.myphotos.com
x-api-key: API_KEY
Content-Length: 232
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="/C:/Users/John/Photos/my_photo.jpg"
Content-Type: image/jpeg

(data)
------WebKitFormBoundary7MA4YWxkTrZu0gW--
```

Yukarıdaki istekte,

api.myphotos.com

adresindeki sunucunun

/v1/photos/upload

yolundaki API uç noktasına

POST

methodu ile yerel bilgisayarda bulunan

C:/Users/John/Photos/my_photo.jpg

yolundaki fotoğrafın yüklenildiği görülmekte.

Sunucu bu isteği aldığında, istek gövdesini ayrıştıracak ve fotoğrafların bulunduğu veritabanında yeni bir giriş oluşturmak için kullanacaktır.

### HTTP Yanıtları (Response)

HTTP yanıtı, bir web sunucusunun bir istemcinin HTTP isteğine verdiği cevaptır. Bu yanıt, istenen kaynağın durumunu, sunucunun kendisi hakkında bilgileri ve isteğe bağlı olarak istenen kaynağın kendisini içerir.

```auto
HTTP/1.1 200 OK
Date: Sun, 28 Mar 2023 10:15:00 GMT
Content-Type: application/json
Server: Apache/2.4.39 (Unix) OpenSSL/1.1.1c PHP/7.3.6
Content-Length: 1024

{
    "name": "John Doe",
    "email": "johndoe@example.com",
}
```

İlk satırda yer alan **durum satırı (status line)** HTTP sürümünü, isteğin sonucunu gösteren bir durum kodunu gösterir.

Örnekteki

Content-Type

başlığından da anlayacağımız üzere, yanıtın gövdesi

application/json

yani **JSON** formatındadır. Yapılan istek sonucunda

John Doe

isimli kullanıcının bilgilerinin dönüldüğü görülmektedir.

HTTP durum kodları, yanıtların genel durumunu belirten sayısal kodlardır ve beş ana kategori altında gruplandırılırlar: Bilgilendirici (1xx), Başarılı (2xx), Yönlendirme (3xx), İstemci Hatası (4xx) ve Sunucu Hatası (5xx).

Aşağıdaki tabloda en yaygın karşılaşılan durum kodları listelenmiştir:

1xx: Bilgilendirici Yanıtlar

|Durum Kodu|Durum Adı|Açıklama|
|---|---|---|
|100|Continue|İstemci isteğini sürdürebilir.|
|101|Switching Protocols|Sunucu, istemcinin protokol değişim talebini kabul etti.|
|102|Processing|İstek işleniyor, ancak henüz tamamlanmadı (WebDAV).|
|103|Early Hints|Sunucunun istemciye erken başlık bilgileri gönderebileceği anlamına gelir.|

2xx: Başarılı Yanıtlar

|Durum Kodu|Durum Adı|Açıklama|
|---|---|---|
|200|OK|İstek başarılı.|
|201|Created|Kaynak başarıyla oluşturuldu.|
|202|Accepted|İstek kabul edildi, ancak işlenmedi.|
|204|No Content|İstek başarılı; döndürülecek içerik yok.|
|205|Reset Content|İstek başarılı; istemcinin belge görünümünü sıfırlaması gerekir.|

3xx: Yönlendirme

|Durum Kodu|Durum Adı|Açıklama|
|---|---|---|
|301|Moved Permanently|Kaynak kalıcı olarak başka bir URI'ya taşındı.|
|302|Found|Kaynak geçici olarak başka bir URI'ya taşındı.|
|303|See Other|Yanıt başka bir URI'da bulunabilir (GET metodunu kullanarak).|
|304|Not Modified|Kaynak değişmedi; önbellekteki sürüm kullanılabilir.|
|307|Temporary Redirect|Kaynak geçici olarak başka bir URI'ya taşındı; yöntem değişmedi.|

4xx: İstemci Hatası

|Durum Kodu|Durum Adı|Açıklama|
|---|---|---|
|400|Bad Request|Hatalı istek yapıldı.|
|401|Unauthorized|İstek yetkilendirme gerektiriyor.|
|403|Forbidden|Sunucu isteği işleme yetkisine sahip olmasına rağmen işlemeyi reddediyor.|
|404|Not Found|Kaynak bulunamadı.|
|405|Method Not Allowed|İstenen yöntem kullanılamaz.|

5xx: Sunucu Hatası

|Durum Kodu|Durum Adı|Açıklama|
|---|---|---|
|500|Internal Server Error|Sunucu tarafında genel bir hata meydana geldi.|
|501|Not Implemented|Sunucu isteği desteklemiyor veya tanımıyor.|
|502|Bad Gateway|Ara sunucu yanıt alamadı.|
|503|Service Unavailable|Sunucu geçici olarak hizmet dışı veya aşırı yüklenmiş.|
|504|Gateway Timeout|Ara sunucu, başka bir sunucudan zamanında yanıt alamadı.|

### Adım Adım Çalışma Prensibi

Tüm bu öğrendiklerimizi özetlemek için, bir web sitesine erişmek istediğimizde gerçekleşen adımların ne olduğuna bakalım:

1. Web Tarayıcısını Açma ve URL Girme:

İnternette gezinmeye başlamak için ilk adım, bir web tarayıcısı açarak ziyaret etmek istediğiniz web sitesinin adresini, yani URL'ini (Uniform Resource Locator) girerek başlar. Örneğin: [https://google.com](https://google.com/)

2. DNS Sorgusu:

Girdiğiniz URL, insanlar için anlamlı ve hatırlaması kolay bir adrestir; fakat internet ağları ve bilgisayarlar bu adresler yerine sayısal IP adreslerini kullanır. Bu nedenle, tarayıcınız URL'yi, web sitesinin barındırıldığı sunucunun IP adresine çevirmek için bir Domain Name System (DNS) sorgusu yapar. DNS, internetin telefon rehberi gibidir; girdiğiniz web sitesi adını alır ve bunu karşılık gelen IP adresine dönüştürür.

3. Sunucuya İstek Gönderme:

DNS sorgusunun sonucunda elde edilen IP adresi ile tarayıcınız, web sitesinin barındırıldığı sunucuya bir HTTP isteği gönderir. Bu istek, sunucudan belirli bir sayfanın içeriğini talep eder.

4. Sunucudan Yanıt Alınması:

Web sunucusu, tarayıcınızın isteğini alır ve gerekli işlemleri yaparak istenilen web sayfasının içeriğini bir HTTP yanıtı ile geri gönderir. Bu yanıt, genellikle HTML (Hypertext Markup Language) kodlarından oluşur ve sayfanın nasıl görüneceğini tanımlar.

5. Web Sayfasının Görüntülenmesi:

Tarayıcınız, sunucudan aldığı HTML içeriğini işler ve kullanıcıya görsel bir web sayfası olarak sunar. Bu aşamada, sayfanın düzgün bir şekilde görüntülenebilmesi için ek kaynakların (resimler, CSS dosyaları, JavaScript dosyaları vb.) de sunucudan istenmesi ve alınması gerekebilir.

6. Bağlantının Sonlandırılması:

Web sayfası başarıyla yüklendikten sonra, HTTP/1.1 protokolünde

keep-alive

özelliği olmadığı takdirde, istemci ve sunucu arasındaki bağlantı otomatik olarak sonlandırılır. Eğer kullanıcı sayfa içinde başka bir linke tıklar veya yeni bir sayfa isteği yaparsa, bu süreç yeniden başlar ve yeni bir bağlantı kurulur.