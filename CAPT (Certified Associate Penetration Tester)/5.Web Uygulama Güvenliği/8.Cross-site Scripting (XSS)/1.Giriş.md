### Cross-site Scripting (XSS) Nedir?

**Cross-site Scripting (XSS)**, web tabanlı uygulamalarda yaygın olarak karşılaşılan bir güvenlik zafiyeti türüdür ve bu zafiyet, temelde istemci tarafında kod enjeksiyon saldırılarına dayanır. Saldırganlar, genellikle kötü niyetli JavaScript kodlarını web sayfalarına ya da uygulamalara dahil ederek, bu sayfaları ziyaret eden kullanıcıların tarayıcılarında bu kodları çalıştırmayı hedeflemektedir.

Saldırı, kullanıcıların zararlı kod içeren web sayfasını veya uygulamayı ziyaret etmeleriyle tetiklenir. Web sayfası ya da uygulama, kullanıcının tarayıcısında kötü amaçlı scriptler çalıştırmak için bir aracı olarak işlev görür. XSS zafiyetleri, kullanıcıların girdi sağladığı forumlar, mesaj arayüzleri ve yorum alanları içeren platformlarda sıkça tespit edilmektedir.

### XSS Saldırılarının Etkileri

Cross-site Scripting (XSS) saldırıları, **kullanıcıların oturum çerezlerini ele geçirme, hassas verileri sızdırma, web sayfasının içeriğini değiştirme veya uygulamada yetkisiz işlemler gerçekleştirme** gibi ciddi güvenlik tehditlerine yol açabilir.

Oturum Çerezlerinin Ele Geçirilmesi

XSS saldırıları, saldırganların kullanıcıların oturum çerezlerini çalmasına olanak tanır. **Çerezler**, kullanıcıların oturum bilgilerini saklar ve genellikle web sitelerine otomatik giriş yapmak için kullanılır. Saldırganlar bu çerezlere eriştiğinde, kullanıcıların hesaplarına yetkisiz erişim sağlayabilir ve kullanıcı adına işlemler gerçekleştirebilirler.

![](https://storage.hackviser.com/file/hackviser-prod/trainings/sections/images/ac167670-4d98-4a00-8709-281600231422/session-5c6cbcdac.webp)

Hassas Verilerin Sızdırılması

XSS saldırıları, hassas bilgilerin sızdırılmasına neden olabilir. Saldırganlar, zararlı scriptler aracılığıyla form verilerini, kredi kartı bilgilerini ve diğer kişisel bilgileri ele geçirebilir. Bu tür bilgi sızıntıları, dolandırıcılık ve kimlik hırsızlığı gibi ciddi sonuçlara yol açabilir.

Web Sayfası İçeriğinin Değiştirilmesi

Saldırganlar, XSS kullanarak bir web sayfasının görünümünü ve içeriğini değiştirebilirler. Bu, web sayfasını ziyaret eden kullanıcıların deneyimlerini olumsuz etkileyebilir ve sahte veya zararlı içerik sunarak kullanıcıları yanıltabilir. Ayrıca, kurumsal imaj ve müşteri güveni açısından da zararlı olabilir.

Yetkisiz İşlemlerin Gerçekleştirilmesi

XSS saldırıları, saldırganların kullanıcıların web uygulamalarındaki yetkilerini kötüye kullanmasına izin verebilir. Örneğin, bir saldırgan, kurbanın hesabını kullanarak diğer kullanıcılara zarar verebilir, yeni yönetici ekleme, verileri silme veya değiştirme gibi yetkisiz işlemler yapabilir.

Sosyal Mühendislik Saldırıları

XSS saldırıları, daha kapsamlı sosyal mühendislik kampanyalarının bir parçası olarak kullanılabilir. Saldırganlar, güvenilir bir kaynaktan geldiğine inanılan zararlı bağlantılar veya mesajlar göndererek kullanıcıları aldatmaya çalışabilirler.

Diğer Güvenlik Zafiyetlerinin Tetiklenmesi

XSS zafiyetleri, bir web sitesi veya uygulamasının genel güvenliğini tehlikeye atar. Bu zafiyetler, diğer saldırı türlerinin, örneğin Cross-Site Request Forgery (CSRF) gibi saldırıların başlatılması için aracı olabilir.

### XSS Saldırı Türleri

XSS saldırıları üç ana kategoriye ayrılır:

1. **Reflected XSS (Kalıcı Olmayan XSS)**: Kullanıcıdan alınan ve web uygulaması tarafından filtrelenmeden surf veriler aracılığıyla gerçekleşir. Genellikle, zararlı scriptler URL parametreleri aracılığıyla gönderilir ve kullanıcı bunu açtığında tarayıcıda çalıştırılır.
    
2. **Stored XSS (Kalıcı XSS)**: Zararlı scriptlerin web uygulamasının veritabanında saklanması ve diğer kullanıcıların içeriği görüntülemesi sırasında bu scriptlerin çalıştırılması ile gerçekleşir.
    
3. **DOM-based XSS (DOM Tabanlı XSS)**: Zararlı scriptler doğrudan kullanıcının tarayıcı tarafında çalışan Document Object Model (DOM) üzerinden gerçekleştirilir. Burada saldırgan, bir web uygulamasının client-side scriptlerinin DOM'u değiştirmesini tetikleyerek çalıştırır.
    

### Temel Kavramlar

**HTML (Hyper Text Markup Language)**: Web sayfalarını oluşturmak için kullanılan standart metin işaretleme dilidir.

```auto
<html>
    <head>
        <title>Home</title>
    </head>
    <body>
        <h1>Hello World!</h1>
    </body>
</html>
```

**JavaScript**: Web sayfalarını interaktif hale getirmek için kullanılan bir programlama dilidir. XSS saldırılarında, JavaScript kötü amaçlı scriptlerin yazılması ve çalıştırılmasında merkezi bir rol oynar.

```auto
alert('Hello World!');
```

**DOM (Document Object Model)**: Web tarayıcılarının bir HTML belgesini hiyerarşik bir ağaç yapısı olarak temsil ettiği ve bu yapı üzerinde JavaScript gibi dillerle etkileşim sağladığı bir programlama arayüzüdür.

**Payload**: XSS saldırısında, zararlı içeriği taşıyan ve tarayıcıda çalıştırılması amaçlanan kötü amaçlı kod parçasıdır.

```auto
<script>alert(1)</script>
```

**Content Security Policy (CSP)**: Web sayfasının hangi kaynaklardan script yükleyebileceğini sınırlayan bir güvenlik protokolüdür, XSS saldırılarını önlemeye yardımcı olur.

```auto
Content-Security-Policy: script-src 'self' https://apis.example.com
```

Bu CSP kuralı, yalnızca aynı kaynaktan (self) ve [https://apis.example.com](https://apis.example.com/) adresinden scriptlerin yüklenmesine izin verir, böylece dışarıdan kötü amaçlı scriptlerin yüklenmesini engeller.

### XSS Saldırılarında Sık Kullanılan JavaScript Fonksiyon ve Nesneleri

|JavaScript Fonksiyonu/Nesnesi|Açıklama|
|---|---|
|alert()|Kullanıcıya bir mesaj kutusu gösterir.|
|prompt()|Kullanıcıdan bir değer girmesini ister ve bu değeri döndürür.|
|confirm()|Kullanıcıya bir onay kutusu gösterir. Kullanıcı "Tamam" veya "İptal" seçeneklerinden birini seçer.|
|eval()|Bir dizeyi JavaScript koduna dönüştürür ve çalıştırır. Bu, kullanıcı girdileri üzerinde güvenli olmayabilir ve güvenlik açıklarına neden olabilir.|
|fetch()|Belirtilen URL'ye bir HTTP isteği gönderir ve bir Promise döndürür. İstek sonucu işlenir ve Promise zinciri içinde kullanılabilir.|
|document.cookie|Tarayıcının çerezlerine erişim sağlar.|
|innerHTML|Bir HTML öğesinin içeriğini değiştirmek için kullanılır.|
|setTimeout()|Belirli bir zaman aralığı sonra belirtilen işlevi çalıştırır.|
|setInterval()|Belirli bir zaman aralığıyla belirtilen işlevi tekrar tekrar çalıştırır.|
|XMLHttpRequest|Sunucuyla arka planda veri alışverişi yapmak için kullanılır.|
|localStorage|Tarayıcıda kalıcı veri depolamak için kullanılır.|
|sessionStorage|Tarayıcının oturum deposuna erişim sağlar.|

### XSS Saldırılarında Sık Kullanılan HTML Etiketleri

|HTML Etiketi|Açıklama|
|---|---|
|<script>|Sayfada JavaScript kodu bulundurmak için kullanılır.|
|<img>|Bir resim eklemek için kullanılır.|
|<iframe>|Başka bir web sayfasını mevcut sayfaya gömmek için kullanılır.|
|<a>|Bir bağlantı oluşturmak için kullanılır.|
|<input>|Kullanıcıdan veri almak için kullanılır.|
|<textarea>|Çok satırlı metin girişi almak için kullanılır.|
|<svg>|Vektörel grafikler oluşturmak için kullanılır.|